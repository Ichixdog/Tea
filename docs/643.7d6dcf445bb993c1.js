"use strict";(self.webpackChunkanular_tea=self.webpackChunkanular_tea||[]).push([[643],{5643:(O,d,c)=>{c.r(d),c.d(d,{ProductsModule:()=>Z});var u=c(6895),i=c(9371),t=c(8256),a=c(3943);let l=(()=>{class e{transform(n){return n+" \u0440\u0443\u0431."}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.Yjl({name:"currency",type:e,pure:!0}),e})();const g=function(e){return{title:e}};function f(e,o){if(1&e&&(t.TgZ(0,"div",2)(1,"div",3),t._UZ(2,"img",4),t.qZA(),t.TgZ(3,"div",5)(4,"h2",6),t._uU(5),t.qZA(),t.TgZ(6,"div",7),t._uU(7),t.qZA(),t.TgZ(8,"div",8)(9,"div",9),t._uU(10),t.ALo(11,"currency"),t.qZA(),t.TgZ(12,"a",10),t._uU(13,"\u041a\u0443\u043f\u0438\u0442\u044c"),t.qZA()()()()),2&e){const n=t.oxw();t.xp6(2),t.s9C("src",n.product.image,t.LSH),t.xp6(3),t.Oqu(n.product.title),t.xp6(2),t.Oqu(n.product.description),t.xp6(3),t.Oqu(t.lcZ(11,5,n.product.price)),t.xp6(2),t.Q6J("queryParams",t.VKq(7,g,n.product.title))}}function m(e,o){1&e&&(t.TgZ(0,"div",11),t._UZ(1,"div",12),t.qZA())}let h=(()=>{class e{constructor(n,r,s){this.dataService=n,this.router=r,this.route=s,this.loading=!1,this.productId=""}ngOnInit(){this.productId=this.route.snapshot.paramMap.get("id"),this.loading=!0,this.productSubscribe=this.dataService.getProduct("https://testologia.ru/tea",this.productId).subscribe({next:n=>{this.loading=!1,this.product=n},error:n=>{this.loading=!1,console.error(n),this.router.navigate(["/"])}})}ngOnDestroy(){this.productSubscribe?.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(a.D),t.Y36(i.F0),t.Y36(i.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product"]],decls:2,vars:2,consts:[["class","product",4,"ngIf"],["class","loader",4,"ngIf"],[1,"product"],[1,"product-image"],["alt","",3,"src"],[1,"product-info"],[1,""],[1,"product-desc"],[1,"price-and-action"],[1,"price"],["routerLink","/order",1,"btn","btn-primary","px-5",3,"queryParams"],[1,"loader"],[1,"loader-content"]],template:function(n,r){1&n&&(t.YNc(0,f,14,9,"div",0),t.YNc(1,m,2,0,"div",1)),2&n&&(t.Q6J("ngIf",r.product),t.xp6(1),t.Q6J("ngIf",r.loading))},dependencies:[u.O5,i.yS,l],styles:[".loader[_ngcontent-%COMP%]{position:fixed;display:flex;justify-content:center;align-items:center;width:100%;height:100%;background:rgba(0,0,0,.267);top:0;left:0}.loader-content[_ngcontent-%COMP%]{width:100px;height:100px;border:10px solid #ffffff;border-radius:50%;border-top-color:#0275d8;animation:spin 1s infinite linear}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.product[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;height:90vh}.product-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:50%;margin-bottom:20px;margin-left:0}.product-desc[_ngcontent-%COMP%]{width:700px;margin-bottom:20px;text-align:justify}.product-image[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:50%}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90%}.price-and-action[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.price[_ngcontent-%COMP%]{font-size:18px;font-weight:700}"]}),e})(),x=(()=>{class e{transform(n,r=100){if(!n)return"";if(n.length<r)return n;const s=n.lastIndexOf(" ",r);return n.substring(0,s)+"..."}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.Yjl({name:"longText",type:e,pure:!0}),e})();const y=function(e){return["/products/",e]};function P(e,o){if(1&e&&(t.TgZ(0,"div",7)(1,"div",8),t._UZ(2,"img",9),t.TgZ(3,"div",10)(4,"h5",11),t._uU(5),t.qZA(),t.TgZ(6,"p",12),t._uU(7),t.ALo(8,"longText"),t.qZA(),t.TgZ(9,"a",13),t._uU(10,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),t.qZA()()()()),2&e){const n=o.$implicit;t.xp6(2),t.s9C("src",n.image,t.LSH),t.xp6(3),t.Oqu(n.title),t.xp6(2),t.Oqu(t.lcZ(8,4,n.description)),t.xp6(2),t.Q6J("routerLink",t.VKq(6,y,n.id))}}function v(e,o){1&e&&(t.TgZ(0,"div",14),t._UZ(1,"div",15),t.qZA())}const C=[{path:"",component:(()=>{class e{constructor(n,r){this.dataService=n,this.router=r,this.loading=!1}ngOnInit(){this.loading=!0,this.productsSubscribe=this.dataService.getProducts("https://testologia.ru/tea").subscribe({next:n=>{this.loading=!1,this.products=n},error:n=>{this.loading=!1,console.error(n),this.router.navigate(["/"])}})}ngOnDestroy(){this.productsSubscribe?.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(a.D),t.Y36(i.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-products"]],decls:8,vars:2,consts:[[1,"products","py-5"],[1,"container"],[1,"text-center","pb-5","fw-bold"],[1,"container","d-flex","justify-content-center"],[1,"row","row-cols-0","row-cols-md-3","g-4","w-100"],["class","col",4,"ngFor","ngForOf"],["class","loader",4,"ngIf"],[1,"col"],[1,"card"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title","fw-bold"],[1,"card-text","fw-medium"],[1,"btn","btn-primary","px-5",3,"routerLink"],[1,"loader"],[1,"loader-content"]],template:function(n,r){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"h2",2),t._uU(3,"\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4),t.YNc(6,P,11,8,"div",5),t.qZA()()(),t.YNc(7,v,2,0,"div",6)),2&n&&(t.xp6(6),t.Q6J("ngForOf",r.products),t.xp6(1),t.Q6J("ngIf",r.loading))},dependencies:[u.sg,u.O5,i.yS,x],styles:[".loader[_ngcontent-%COMP%]{position:fixed;display:flex;justify-content:center;align-items:center;width:100%;height:100%;background:rgba(0,0,0,.267);top:0;left:0}.loader-content[_ngcontent-%COMP%]{width:100px;height:100px;border:10px solid #ffffff;border-radius:50%;border-top-color:#0275d8;animation:spin 1s infinite linear}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),e})()},{path:":id",component:h}];let p=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[i.Bz.forChild(C),i.Bz]}),e})();var b=c(4466);let Z=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.ez,i.Bz,b.m,p,p]}),e})()}}]);